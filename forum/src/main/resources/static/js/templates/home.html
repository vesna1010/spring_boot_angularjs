<div class="row">
	<div class="col-sm-10 offset-sm-1">
		<br>
		<div class="text-right" data-ng-show="loggedUser">
			<button class="btn btn-primary" data-ng-click="show = true"
				data-ng-hide="show">Add New Post</button>
			<br>
		</div>
	</div>
</div>

<div class="row">
	<div class="col-sm-10 offset-sm-1">
		<div data-ng-show="show">
			<form data-ng-submit="savePost(post)">
			<input data-ng-model="post.user" value="{{angular.toJson(loggedUser)}}">
				<div>
					<input data-ng-model="post.title" class="form-control"
						placeholder="Title...">
				</div>
				<div>
					<textarea rows="3" cols="20" data-ng-model="post.content"
						class="form-control" placeholder="Type a post..."></textarea>
				</div>
				<div class="text-right">
					<button type="submit" class="btn btn-primary">Post</button>
					<button type="reset" class="btn btn-primary"
						data-ng-click="show = false">Cancel</button>
				</div>
			</form>
		</div>
	</div>
</div>

<div data-ng-repeat="post in posts">
	<br>
	<div class="row">
		<div class="col-sm-10 offset-sm-1 border border-primary">
			<h4>
				<a href="#!/posts/{{post.id}}">{{post.title}}</a>
			</h4>
			<div>{{post.content.substring(0, 200) + ((post.content.length >
				200) ? '...' : '') }}</div>
			<br>
			<div class="text-right">{{post.createdOn}}</div>
			<div class="text-right font-weight-bold">Posted&nbsp;by&nbsp;{{post.user.name}}</div>
		</div>
	</div>
</div>

<div class="row">
	<div class="col-sm-10 offset-sm-1">
		<br> <br> <br>
		<pagination data-ng-show="posts.length" page-number="{{pageNumber}}"
			page-size="{{pageSize}}" total-pages="{{totalPages}}" url='#!/home'></pagination>
	</div>
</div>

